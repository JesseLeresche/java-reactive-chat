<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p>Echo the input with a delay of 2 seconds</p>
<p>
    Input<br />
    <textarea id="input" name="input" cols="40"></textarea>
</p>

<p>
    Output<br />
<div id="output"></div>
</p>

</body>
<script src="/js/app.js"></script>
<script  type="application/javascript">
        var socket = new WebSocket("ws://" + location.host + "/websocket/echo");
        addEvent("keypress", document.getElementById('input'), function(event) {
            socket.send(event.key);
        });
        var output = document.getElementById("output");
        socket.onmessage = function(e) {
          output.innerHTML = output.innerHTML + e.data;
        }

</script>
</html>